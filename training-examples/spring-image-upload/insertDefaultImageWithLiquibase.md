* ### Referanslar
    Bu çalışmadaki örnekler **spring-image-upload** adlı projesinin devamı olarak anlatılmıştır.

* ### Senaryo
    - Burada yapılan çalışma sonrasında uygulama ayağa kalkarken liquibase aracılığıyla varsayılan resimlerin media ya eklenmesi istenmektedir.
    - **NOT:** Çalışmada liquibase desteği yoktur. Entityler hibernate ile create edilmektedir. Buradaki resim insert etme işlemini uygulamak için önce projeye liquibase desteği eklenmelidir. 

* ### Açıklamalar
    - Media nın DB deki içerik tanımı binary data şeklindedir(FILE_CONTENT BINARY(1000000)).
    ```
    CREATE TABLE MEDIA (
        ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
        FILE_CONTENT BINARY(1000000),
        NAME VARCHAR(255),
        PRIMARY KEY (ID)
    )
    ```      
- Media'nın java tarafındaki tanımı ise byte array(byte[]) şeklindedir.
- Üstteki açıklamala göre resmin content olarak(binary) eklenmesi gerekmektedir.

* ### Resmin blob file olarak eklenmesi
    - liqubse changeset içinde görselin dosya yolu belirtilerek resim içeriğinin blob olarak DB ye insert edilmesi sağlanır.    
    ```
        <changeSet id="10-12-2020_11:50" author="levent.yildiz">
    
            <insert tableName="media">
                <column name="name" value="ahmetin resmi"/>
                <column name="file_content"   valueBlobFile="./ahmet.png" />
            </insert>
            
        </changeSet>
    ```
  
    - **NOT:** Buradaki ahmet.png dosyası classpath içinde yer almalıdır.    
    ```
    valueBlobFile="./ahmet.png"
    ```
  
[index için tıklayın](../README.md)
